# 观察者模式

定义对象间的一种一对多的依赖关系，当一个对象的状态发生改变时，所有依赖于它的对象都得到通知并被自动更新。也就是一个对象维护了一个依赖列表，当对象发生了改变的时候自动通知那些依赖。

观察者的角色：

- Subject：抽象主题，也即是被观察者。抽象主题把所有观察者对象保存在一个集合里，每个主题都可以有任意数量的观察者，抽象主题提供接口可以增加和删除观察者对象。
- ConcreteSubject：具体主题，就是具体的被观察者。具体主题内部状态发生变化时，给所有注册过的观察者发送通知。
- Observer：抽象观察者，定义一个更新接口，在主题更改通知时更新自己。
- ConcreteObserver：具体观察者，在得到主题更改通知时更新自身的状态。

观察者模式中主题和观察者之间是强依赖的，主题会去调用观察者的接口来通知观察者。发布订阅模式是同步的。

# 发布订阅模式

发布订阅模式确实也是观察者模式，应该说是观察者模式的一种实现，相比于观察者模式耦合度更低，可重用性更高。

- Publisher：发布者，消息的发送方。
- Subscriber：订阅者，消息的消费方。
- Topic：相当于一个调度中心。

发布者和订阅者两者间不知道对方的存在，他们两个通过调度中心进行通信。

# 两者区别

按照设计模式来说，我觉得并没有什么不同，就是观察者模式，要说有什么不同，我觉得是代码实现上有所不同吧。

# 其他

另外其实还有事件监听器模式，可以看下Spring中的事件监听器模式，其实都是差不多的。