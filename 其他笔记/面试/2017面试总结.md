## Spring Schema扩展
Schema扩展步骤：

1. 设计配置属性和JavaBean
2. 编写xsd文件
3. 编写NamespaceHandler和BeanDefinitionParser
4. 编写spring.handlers和spring.schemas文件串联所有部件
5. 在Bean文件中应用

## Spring Schema扩展之Dubbo

## Spring嵌套式事务的底层，原理
PROPAGATION_NESTED开始一个嵌套事务，它是一个已经存在的事务的真正子事务。嵌套事务开始执行时，将取得一个savepoint，如果这个嵌套事务失败了，将回滚到此savepoint。嵌套事务是外部事务的一部分，只有外部事务结束后它才会被提交。

PROPAGATION_NEW 启动一个新的事务，不依赖于外部事务，拥有自己的隔离范围，自己的锁，当内部事务开始执行时，外部事务将被挂起，内部事务结束时，外部事务将继续执行。

## Spring Bean的生命周期
1. Instantiate，实例化Bean，容器寻找Bean的定义并实例化。
2. Populate properties，属性注入，使用依赖注入，按照Bean定义信息配置Bean所有属性。
3. Set Bean Name，调用BeanNameAware的setBeanName方法。
4. Set Bean factory，调用BeanFactoryAware的setBeanFactory方法。
5. Pre Initialization，调用BeanPostProcessors的ProcessBeforeInitialization()
6. Initialize beans，如果配置了init-method方法，就会调用init-method方法。
7. Post Initialization，调用BeanPostProcessors的ProcessaAfterInitialization()
8. Ready to use 可以使用了
9. Destroy销毁，调用destory方法或者配置了destory-method就调用。
## Spring Bean的作用域
* singleton，单例，容器中只存在一个对象实例
* prototype，每次使用都会实例化一个对象
* request，每个http请求对应一个bean实例
* session，每个会话对应一个bean实例
* gloab-session，全局会话对应一个bean的实例