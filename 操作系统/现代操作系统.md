# I/O设备

实现输入和输出有三种方式：

1. 用户发出系统调用，内核翻译成对应设备驱动程序的过程调用，设备驱动程序启动IO并在一个循环中检查设备，看设备是否完成工作，IO结束后设备驱动程序把数据送到指定地方并返回，然后操作系统将控制返回给调用者。这种方式称为忙等待，缺点是占据CPU，CPU一直轮询设备直到对应IO操作完成。
2. 设备驱动程序启动设备并让该设备在操作完成时发一个中断，设备驱动程序在这个时刻返回，操作系统接着在需要时阻塞调用者并安排其他工作进行，当设备驱动程序检测到该设备的操作完毕时，它发出一个中断通知操作完成。
3. 使用直接存储器访问（DMA）芯片，可以控制在内存和某些控制器之间的位流，而无需持续的CPU干预。CPU对DMA芯片进行设置，说明需要传送的字节数、有关的设备和内存地址以及操作方向，接着启动DMA，当DMA芯片完成时，它引发一个中断。