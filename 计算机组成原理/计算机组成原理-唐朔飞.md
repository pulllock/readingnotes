# 第一章 计算机系统概论

## 1.2 计算机的基本组成

### 1.2.1 冯诺依曼计算机的特点

冯诺依曼机的特点如下：

- 计算机由运算器、存储器、控制器、输入设备和输出设备五大部件组成。

- 指令和数据以同等地位存放于存储器内，并可按地址寻访。

- 指令和数据均用二进制数表示。

- 指令由操作码和地址码组成，操作码用来表示操作的性质，地址码用来表示操作数在存储器中的位置。

- 指令在存储器内按顺序存放。通常，指令是顺序执行的，在特定条件下，可根据运算结果或根据设定的条件改变执行顺序。

- 机器以运算器为中心，输入输出设备与存储器间的数据传送通过运算器完成。

### 1.2.2 计算机的硬件框图

典型的冯诺依曼计算机是以运算器为中心的。现代的计算机已转化为以存储器为中心。

各部件功能如下：

- 运算器：用来完成算术运算和逻辑运算，并将运算的中间结果暂存在运算器内。

- 存储器：用来存放数据和程序。

- 控制器：用来控制、指挥程序和数据的输入、运行以及处理运算结果。

- 输入设备：用来将人们熟悉的信息形式转换为机器能识别的信息形式，常见的有键盘、鼠标等。

- 输出设备：可将机器运算结果转换为人们熟悉的细细形式，如打印机输出、显示器输出等。

运算器和控制器通常将它们合起来统称为中央处理器（Central Processing Unit，CPU）。把输入设备与输出设备简称为I/O设备（Input/Output Equipment）。

现代计算机可认为由三大部分组成：CPU、I/O设备及主存储器（Main Memory，MM）。CPU与主存储器合起来又可成为主机，I/O设备又可成为外部设备。

主存储器是存储器子系统中的一类，用来存放程序和数据，可以直接与CPU交换信息。另一类称为辅助存储器，简称辅存，又称外存。

算术逻辑单元（Arithmetic Logic Unit，ALU）简称算逻部件，用来完成算术逻辑运算。控制单元（Control Unit，CU）用来解释存储器中的指令，并发出各种操作命令来执行指令。ALU和CU是CPU的核心部件。

I/O设备也受CU控制，用来完成相应的输入、输出操作。

### 1.2.3 计算机的工作步骤

#### 主存储器

主存储器（简称主存或内存），包括：存储体M、各种逻辑部件、控制电路等。

存储体由许多存储单元组成，每个存储单元又包含若干个存储元件（或称存储基元、存储元），每个存储元件能寄存一位二进制代码0或1。

一个存储单元可存储一串二进制代码，称这串二进制代码为一个存储字，这串二进制代码的位数称为存储字长。存储字长可以是8位、16位或32位等。

可以赋予每个存储单元一个编号，称为存储单元的地址号。

主存的工作方式就是按存储单元的地址号来实现对存储字各位的存（写入）、取（读出）。这种存取方式称为按地址存储方式，即按地址访问存储器（简称访存）。

为了能实现按地址访问的方式，主存中还必须配置两个寄存器MAR和MDR。MAR（Memory Address Register）是存储器地址寄存器，用来存放欲访问的存储单元的地址，其位数对应存储单元的个数（如MAR为10位，则有2^10=1024个存储单元，记为1K）。MDR（Memory Data Register）是存储器数据寄存器，用来存放从存储体某单元取出的代码或准备往某存储单元存入的代码，其位数与存储字长相等。

#### 运算器

运算器最少包括3个寄存器（现代计算机内部往往设有通用寄存器组）和一个算术逻辑单元（ALU）。其中ACC（Accumulator）为累加器，MQ（Multiplier-Quotient Register）为乘商寄存器，X为操作数寄存器。

运算器加、减、乘、除四则运算的操作过程，假设：

- M表示存储器的任一地址号

- [M]表示对应M地址号单元中的内容

- X表示X寄存器

- [X]表示X寄存器中的内容

- ACC表示累加器

- [ACC]表示累加器中的内容

- MQ表示乘商寄存器

- [MQ]表示乘商寄存器中的内容

假设ACC中已存有前一时刻的运算结果，并作为下述运算中的一个操作数。



加法操作过程为：

```
[M] -> X
[ACC] + [X] -> ACC
```

即将[ACC]看作被加数，先从主存中取一个存放在M地址号单元内的加数[M]，送至运算器的X寄存器中，然后将被加数[ACC]与加数[X]相加，结果（和）保留在ACC寄存器中。



减法操作过程为：

```
[M] -> X
[ACC] - [X] -> ACC
```

即将[ACC]看作被减数，先取出存放在主存M地址号单元中的减数[M]并送入X，然后[ACC]-[X]，结果（差）保留在ACC寄存器中。



乘法操作过程为：

```
[M] -> MQ
[ACC] -> X
0 -> ACC
[X] x [MQ] -> ACC//MQ（//表示两个寄存器串接）
```

即将[ACC]看作被乘数，先取出存放在主存M号地址单元中的乘数[M]并送入乘商寄存器MQ，再把被乘数送入X寄存器，并将ACC清0，然后[X]和[MQ]相乘，结果（积）的高位保留在ACC中，低位保留在MQ中。



除法操作过程为：

```
[M] -> X
[ACC] / [X] -> M
余数R在ACC中
```

即将[ACC]看作被除数，先取出存放在主存M号地址单元内的除数[M]并送至X寄存器，然后[ACC]除以[X]，结果（商）暂留于MQ，[ACC]为余数R。